# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [2.2.0] - 2025-01-13

### Added
- **Paper Summary Generation**: New AI-powered paper summarization feature
  - Generate comprehensive summaries from arXiv PDFs using Gemini API
  - Smart caching to avoid regenerating existing summaries
  - Interactive summary display in modal dialogs
  - Support for Japanese language summaries with customizable language options
- **Enhanced Paper Display**: Added summary action buttons to analyzed papers
  - "この論文を要約" (Generate Summary) button for new summaries
  - "要約を表示" (Show Summary) button for existing summaries
- **Database Enhancements**: New `PaperSummary` model for persistent summary storage
- **API Endpoints**: Two new REST endpoints for paper summary management
  - `POST /api/v1/papers/{paper_id}/summary` - Generate paper summary
  - `GET /api/v1/papers/{paper_id}/summary` - Retrieve existing summary
- **Comprehensive Testing**: Added 7 new test cases for paper summary functionality

### Fixed
- **Analysis Paper Count Consistency**: Fixed discrepancy between user settings and displayed papers
  - UI now correctly shows the number of papers specified in analysis settings (up to 50)
  - Previously limited to 30 papers regardless of user configuration
- **Input Validation**: Added proper validation for paper count (10-50 papers)
  - Backend schema validation with clear error messages
  - Frontend form constraints with explanatory help text
- **AI Processing Limits**: Aligned analysis limits with AI context constraints
  - Consistent 50-paper limit across AI processing and UI display

### Changed
- **Analysis Configuration**: Updated default and maximum paper counts
  - Default papers per analysis: 100 → 50
  - Maximum papers per analysis: 500 → 50
  - Added explanatory text about AI processing limitations
- **Performance Optimization**: Improved paper summary retrieval and caching logic

### Dependencies
- Added `PyPDF2` for PDF text extraction
- Added `aiohttp` for asynchronous HTTP requests
- Added `httpx` for testing framework compatibility

### Technical Details
- Paper summaries are generated by downloading PDFs from arXiv and processing with Gemini AI
- Summary generation includes error handling for network issues and PDF parsing failures
- Database schema includes proper indexing for efficient summary lookups
- Frontend modal interface provides rich paper metadata display alongside summaries

## [2.1.0] - 2024-12-XX

### Added
- Interactive Paper References with superscript notation
- Custom Keyword Dictionary for terminology weighting
- Markdown Style Customization features
- Multi-language Translation Updates

### Enhanced
- Page title management and UI refinements

## [2.0.0] - Initial Public Release

### Added
- Complete MVP functionality
- Dashboard with real-time statistics
- Paper search and filtering
- AI-powered trend analysis
- Weekly trend summaries
- Multi-language support
- Comprehensive test suite